{"ast":null,"code":"import _slicedToArray from \"S:/personal-projects/mern-todo-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"S:\\\\personal-projects\\\\mern-todo-app\\\\client\\\\src\\\\App.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { Redirect, Route, Switch, useLocation } from \"react-router\";\nimport Signin from \"./components/auth/Signin\";\nimport Signup from \"./components/auth/Signup\";\nimport Layout from \"./components/Layout/Layout\";\nimport Todo from \"./components/Todo/Todo\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  var _this = this;\n\n  var _useLocation = useLocation(),\n      pathname = _useLocation.pathname;\n\n  var _useState = useState({\n    isAuth: false,\n    token: null,\n    userId: null,\n    authLoading: false,\n    error: null\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      state = _useState2[0],\n      setState = _useState2[1];\n\n  useEffect(function () {\n    if (state.isAuth && pathname === \"/\") {\n      /*#__PURE__*/\n      _jsxDEV(Redirect, {\n        to: \"/all-todos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 7\n      }, _this);\n    }\n  });\n\n  var routes = /*#__PURE__*/_jsxDEV(Switch, {\n    children: /*#__PURE__*/_jsxDEV(Route, {\n      exact: true,\n      path: \"/\",\n      component: Todo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 5\n  }, this);\n\n  if (!state.isAuth) {\n    routes = /*#__PURE__*/_jsxDEV(Switch, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/signin\",\n        component: Signin\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/signup\",\n        component: Signup\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Layout, {\n      children: routes\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"vUIDtKzW4fpJSyrLRj0SYVryA+Q=\", false, function () {\n  return [useLocation];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["S:/personal-projects/mern-todo-app/client/src/App.tsx"],"names":["React","useState","useEffect","Redirect","Route","Switch","useLocation","Signin","Signup","Layout","Todo","App","pathname","isAuth","token","userId","authLoading","error","state","setState","routes"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,SAASC,QAAT,EAAmBC,KAAnB,EAA0BC,MAA1B,EAAkCC,WAAlC,QAAqD,cAArD;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AAEA,OAAOC,MAAP,MAAmB,4BAAnB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;;;AAEA,SAASC,GAAT,GAAe;AAAA;;AAAA;;AACb,qBAAqBL,WAAW,EAAhC;AAAA,MAAQM,QAAR,gBAAQA,QAAR;;AAEA,kBAA0BX,QAAQ,CAAC;AACjCY,IAAAA,MAAM,EAAE,KADyB;AAEjCC,IAAAA,KAAK,EAAE,IAF0B;AAGjCC,IAAAA,MAAM,EAAE,IAHyB;AAIjCC,IAAAA,WAAW,EAAE,KAJoB;AAKjCC,IAAAA,KAAK,EAAE;AAL0B,GAAD,CAAlC;AAAA;AAAA,MAAOC,KAAP;AAAA,MAAcC,QAAd;;AAQAjB,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIgB,KAAK,CAACL,MAAN,IAAgBD,QAAQ,KAAK,GAAjC,EAAsC;AACpC;AAAA,cAAC,QAAD;AAAU,QAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA;AACD;AACF,GAJQ,CAAT;;AAMA,MAAIQ,MAAM,gBACR,QAAC,MAAD;AAAA,2BACE,QAAC,KAAD;AAAO,MAAA,KAAK,MAAZ;AAAa,MAAA,IAAI,EAAC,GAAlB;AAAsB,MAAA,SAAS,EAAEV;AAAjC;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;;AAMA,MAAI,CAACQ,KAAK,CAACL,MAAX,EAAmB;AACjBO,IAAAA,MAAM,gBACJ,QAAC,MAAD;AAAA,8BACE,QAAC,KAAD;AAAO,QAAA,KAAK,MAAZ;AAAa,QAAA,IAAI,EAAC,SAAlB;AAA4B,QAAA,SAAS,EAAEb;AAAvC;AAAA;AAAA;AAAA;AAAA,cADF,eAEE,QAAC,KAAD;AAAO,QAAA,IAAI,EAAC,SAAZ;AAAsB,QAAA,SAAS,EAAEC;AAAjC;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAMD;;AAED,sBACE;AAAA,2BACE,QAAC,MAAD;AAAA,gBAASY;AAAT;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAKD;;GArCQT,G;UACcL,W;;;KADdK,G;AAuCT,eAAeA,GAAf","sourcesContent":["import React, { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { Redirect, Route, Switch, useLocation } from \"react-router\";\r\nimport Signin from \"./components/auth/Signin\";\r\nimport Signup from \"./components/auth/Signup\";\r\n\r\nimport Layout from \"./components/Layout/Layout\";\r\nimport Todo from \"./components/Todo/Todo\";\r\n\r\nfunction App() {\r\n  const { pathname } = useLocation();\r\n\r\n  const [state, setState] = useState({\r\n    isAuth: false,\r\n    token: null,\r\n    userId: null,\r\n    authLoading: false,\r\n    error: null,\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (state.isAuth && pathname === \"/\") {\r\n      <Redirect to=\"/all-todos\" />;\r\n    }\r\n  });\r\n\r\n  let routes = (\r\n    <Switch>\r\n      <Route exact path=\"/\" component={Todo} />\r\n    </Switch>\r\n  );\r\n\r\n  if (!state.isAuth) {\r\n    routes = (\r\n      <Switch>\r\n        <Route exact path=\"/signin\" component={Signin} />\r\n        <Route path=\"/signup\" component={Signup} />\r\n      </Switch>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Layout>{routes}</Layout>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}